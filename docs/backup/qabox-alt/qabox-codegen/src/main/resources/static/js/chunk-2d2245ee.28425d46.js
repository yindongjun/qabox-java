(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d2245ee"],{e09f:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("standard-drawer",{ref:"standardDrawer",attrs:{title:e.readOnly?"详情":e.form.id?"菜单编辑":"新增操作",confirmLoading:e.confirmLoading,editable:!e.readOnly},on:{close:e.close,confirm:e.confirm}},[t("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[t("a-form-model-item",{ref:"name",attrs:{label:"菜单名称",prop:"name"}},[t("a-input",{attrs:{placeholder:"请输入菜单名称"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),t("a-form-model-item",{attrs:{label:"归属菜单",prop:"parentId"}},[t("a-tree-select",{staticStyle:{width:"100%"},attrs:{"dropdown-style":{maxHeight:"400px",overflow:"auto"},"tree-data":e.treeData,replaceFields:{title:"name",key:"id",value:"id"},placeholder:"请选择归属菜单","tree-default-expand-all":""},model:{value:e.form.parentId,callback:function(r){e.$set(e.form,"parentId",r)},expression:"form.parentId"}})],1),t("a-form-model-item",{attrs:{label:"菜单URL",prop:"url"}},[t("a-input",{attrs:{placeholder:"请输入URL地址"},model:{value:e.form.url,callback:function(r){e.$set(e.form,"url",r)},expression:"form.url"}})],1),t("a-form-model-item",{attrs:{label:"组件地址",required:"",prop:"path"}},[t("a-input",{attrs:{placeholder:"请输入所属组件路径"},model:{value:e.form.path,callback:function(r){e.$set(e.form,"path",r)},expression:"form.path"}})],1),t("a-form-model-item",{attrs:{label:"是否隐藏",prop:"hide"}},[t("a-switch",{model:{value:e.form.hide,callback:function(r){e.$set(e.form,"hide",r)},expression:"form.hide"}})],1),t("a-form-model-item",{attrs:{label:"相关权限",prop:"permission"}},[t("a-input",{attrs:{placeholder:"请输入权限标识"},model:{value:e.form.permission,callback:function(r){e.$set(e.form,"permission",r)},expression:"form.permission"}})],1),t("a-form-model-item",{attrs:{label:"菜单图标",prop:"icon"}},[t("a-input",{model:{value:e.form.icon,callback:function(r){e.$set(e.form,"icon",r)},expression:"form.icon"}},[t("a-popover",{attrs:{slot:"addonAfter",title:"图标选择",placement:"left"},slot:"addonAfter"},[t("template",{slot:"content"},[t("icon-selector",{staticStyle:{"max-width":"1000px"},on:{change:e.handleIconChange}})],1),t("a-icon",{attrs:{type:"setting"}})],2)],1)],1),t("a-form-model-item",{attrs:{label:"排序序号",prop:"sort"}},[t("a-input-number",{staticStyle:{"min-width":"150px"},attrs:{placeholder:"请输入排序序号"},model:{value:e.form.sort,callback:function(r){e.$set(e.form,"sort",r)},expression:"form.sort"}})],1)],1)],1)},a=[],n=t("b775"),i=t("2af9"),s={name:"ResourceMenuModal",components:{StandardDrawer:i["h"],IconSelector:i["d"]},data:function(){return{confirmLoading:!1,treeData:[],readOnly:!1,labelCol:{span:4},wrapperCol:{span:18},form:{type:1,name:"",component:void 0,url:"",hide:!1,permission:"",icon:void 0,sort:void 0},rules:{name:[{required:!0,message:"此项为必输项",trigger:"blur"},{max:20,message:"最多输入20个字符",trigger:"change"}],component:[{required:!0,message:"Please select Activity zone",trigger:"change"},{max:200,message:"最多输入200个字符",trigger:"blur"}],url:[{required:!0,message:"Please pick a date",trigger:"change"},{max:200,message:"最多输入200个字符",trigger:"blur"}],resource:[{required:!0,message:"Please select activity resource",trigger:"change"}],desc:[{required:!0,message:"Please input activity form",trigger:"blur"}]}}},methods:{show:function(e,r){e&&(this.form=Object.assign({},e)||{}),this.readOnly="undefined"!==typeof r&&!0===r,this.loadMenuTree(),this.$refs.standardDrawer.show()},confirm:function(){var e=this;this.confirmLoading=!0,this.$refs.ruleForm.validate((function(r){if(!r)return e.confirmLoading=!1;(e.form.id?e.$http.put:e.$http.post)("resource",e.form).then((function(r){e.$message.success("操作成功！"),e.$emit("handle-success"),e.$refs.standardDrawer.close()})).catch((function(r){e.confirmLoading=!1}))}))},close:function(){this.form={type:1,name:"",component:void 0,url:"",hide:!1,permission:"",icon:void 0,sort:void 0},this.confirmLoading=!1,this.$refs.ruleForm.resetFields()},loadMenuTree:function(){var e=this;Object(n["b"])({url:"resource/tree?type=1",method:"get"}).then((function(r){e.treeData=r.data||[]}))},handleIconChange:function(e){this.form.icon=e}}},l=s,m=t("2877"),c=Object(m["a"])(l,o,a,!1,null,"54290af2",null);r["default"]=c.exports}}]);